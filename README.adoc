= Compte rendu pour la cr√©ation d'une application multilingue

:toc:

toc::[]
== (DARRAS Lo√Øc )
== lien github : https://github.com/LD-BTS-SIO/multilang_site


=== Je tiens √† pr√©ciser que j'ai fais ce projet sur VS CODE

* Je tiens √† vous remercier de m'avoir envoy√© ce test, √ßa m'a permis de prendre en comp√©tence malgr√© des difficult√©s.
* Je pense avoir pris 15 heures au total pour avoir r√©alis√© ceci, ayant des difficult√©s avec django au d√©part, je n'ai cependant pas r√©alis√© la traduction et le chatbot n√©cessaire.

:figure-caption!:

== I) Installation et Configuration de Django :

J'ai donc tout d'abord install√© django :

Pour cela j'ai utilis√© la commande "*pip install django*" :
====
image::assets\images\d1a.png[width=800, title="Installation de django", alt=""]
====


Ensuite j'ai cr√©√© le projet √† l'aide de la commande suivantes : 

[source,lang]
----
django-admin startproject multilang_site
cd multilang_site

----


J'ai ensuite utilis√© la commande *django-admin startproject* pour cr√©er un nouveau projet Django nomm√© *multilang_site*.


J'ai ensuite cr√©√© l'application main : 


[source,lang]
----
python manage.py startapp main
----


Il fuat ensuite ajouter l'Application √† settings.py :
[source,lang]
----
INSTALLED_APPS = [
    ...
    'main',
]

MIDDLEWARE = [
    ...
    'django.middleware.locale.LocaleMiddleware',
]

LANGUAGES = [
    ('en', 'English'),
    ('fr', 'Fran√ßais'),
]

LOCALE_PATHS = [
    os.path.join(BASE_DIR, 'locale'),
]
----


Configuration de l'url :

main/urls.py :

[source,lang]
----

from django.urls import path
from . import views

urlpatterns = [
    path('', views.article_list, name='article_list'),
]


----



J'ai cr√©√©√© ensuite des templates, des vues que je mettrai dans la partie finale du projet


Pour la partie *admin* de Django j'ai cr√©√© un superutilisateur: 
[source,lang]
----

python manage.py createsuperuser

----



J'ai aussi cr√©√© un  fichier requirements.txt :

[source,lang]
----
pip freeze > requirements.txt
----

Pour ajouter les migrations d'un projet on fait ceci : 

[source,lang]
----
python manage.py migrate


----


En cons√©quence, je peux ajouter des articles dans : http://127.0.0.1:8000/admin/. qui est l'interface d'administration



== II) Rendu actuel  du projet :





====
image::assets\images\R1.png"[width=800, title="", alt=""]
====

====
image::assets\images\R2.png"[width=800, title="", alt=""]
====

====
image::assets\images\R3.png"[width=800, title="", alt=""]
====

====
image::assets\images\R4.png"[width=800, title="", alt=""]
====

====
image::assets\images\R5.png"[width=800, title="", alt=""]
====

====
image::assets\images\R6.png"[width=800, title="", alt=""]
====

====
image::assets\images\R7.png"[width=800, title="", alt=""]
====

====
image::assets\images\R8.png"[width=800, title="", alt=""]
====

== III) Difficult√©s chatbot et traduction

Je n'ai malheureusement pas encore r√©ussi √† int√©grer un chabot et un syst√®me de traduction.

Voici les erreurs que je re√ßois

=== a) Traduction

J'ai d√ª d'abord configurer *settings.py* de la mani√®re suivante :


[source,lang]
----

LANGUAGES = [
    ('en', 'English'),
    ('fr', 'French'),
    # Ajoutez d'autres langues au besoin
]

# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.0/howto/static-files/
STATIC_URL = '/static/'

STATICFILES_DIRS = [
    BASE_DIR / "static",
]

----


Pour les templates HTML, j'ai d√ª utiliser *le template tag {% trans %}*.



J'ai g√©n√©r√© ensuite les *fichiers de message/ de traduction* en ex√©cutant la commande suivante √† la racine de votre projet:


[source,lang]
----

python manage.py makemessages -l fr   
 python manage.py makemessages -l en                                                            
                                                                                                                      


----


J'ai d√ª ensuite complier : 

[source,lang]
----
django-admin compilemessages
----

[source,lang]
----
J'ai malheuresement les erreurs suivantes: 

PS C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie> python manage.py runserver
Watching for file changes with StatReloader
Exception in thread django-main-thread:
Traceback (most recent call last):
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\threading.py", line 1016, in _bootstrap_inner
    self.run()
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\threading.py", line 953, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\utils\autoreload.py", line 64, in wrapper
    fn(*args, **kwargs)
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\core\management\commands\runserver.py", line 125, in inner_run
    autoreload.raise_last_exception()
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\utils\autoreload.py", line 87, in raise_last_exception
    raise _exception[1]
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\core\management\__init__.py", line 394, in execute
    autoreload.check_errors(django.setup)()
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\utils\autoreload.py", line 64, in wrapper
    fn(*args, **kwargs)
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\__init__.py", line 24, in setup
    apps.populate(settings.INSTALLED_APPS)
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\apps\registry.py", line 91, in populate
    app_config = AppConfig.create(entry)
  File "C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie\env\lib\site-packages\django\apps\config.py", line 193, in create
    import_module(entry)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\lib\importlib\__init__.py", line 126, in import_module
----

Alors qu'il existe : 


[source,lang]
----
PS C:\Users\darras\multilang_site - correct B FONCTIONNE B - Copie> pip show djangorestframework                                                                               
Name: djangorestframework                                                                                                                                                      
Version: 3.15.2
Summary: Web APIs for Django, made easy.
Home-page: https://www.django-rest-framework.org/
Author: Tom Christie
Author-email: tom@tomchristie.com
License: BSD
Location: c:\users\darras\multilang_site\env\lib\site-packages
Requires: django
Required-by:

----

=== b) Chatbot

Pour le chabot je n'ai pas r√©ussi √† d√©velopper √† l'aide d'uen solution gratuite.



J'ai essay√© de publi√© le projet sur render mais j'ai toujours pas r√©ussi : 


[source,lang]
----
==> Clonage depuis https://github.com/LD-BTS-SIO/multilang_site   
==> Extraction du commit 55266c76b8514d3de63e7c6b18c73cd3a559094b dans la branche master       
==> Utilisation de Python version 3.11.9 (par d√©faut)     
==> Docs sur la sp√©cification d'une version Python : https://render.com/docs/python-version       
==> Utilisation de Poetry version 1.7.1 (par d√©faut)     
==> Documentation sur la sp√©cification d'une version de Poetry : https://render.com/docs/poetry-version       
==> Ex√©cution de la commande de build 'pip install -r conditions.txt'...       
Collecte  de asgiref==3.8.1  (√† partir de  -r  requirements.txt  (ligne  1))
  T√©l√©chargement de  asgiref-3.8.1-py3-none-any.whl.metadata  (9,3  Ko)
Collecte  de backoff==2.2.1  (√† partir de  -r  requirements.txt  (ligne  2))
  T√©l√©chargement de  backoff-2.2.1-py3-none-any.whl.metadata  (14  Ko)
Collecte  de branca==0.7.2  (√† partir de  -r  conditions.txt  (ligne  3))
  T√©l√©chargement de  branca-0.7.2-py3-none-any.whl.metadata  (1,5  Ko)
Collecte  de certifi==2024.2.2  (√† partir de  -r  requirements.txt  (ligne  4))
  T√©l√©chargement de  certifi-2024.2.2-py3-none-any.whl.metadata  (2,2  Ko)
Collecte  de charset-normalizer==3.3.2  (√† partir de  -r  Requirements.txt  (ligne  5))
  T√©l√©chargement de  charset_normalizer-3.3.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata  (33  Ko)
Collecte  de comtypes==1.1.14  (√† partir de  -r  requirements.txt  (ligne  6))
  T√©l√©chargement  de comtypes-1.1.14-py2.py3-none-any.whl.metadata  (1,6  Ko)
Collecte  de Django==5.0.6  (√† partir de  -r  requirements.txt  (ligne  7))
  T√©l√©chargement de  Django-5.0.6-py3-none-any.whl.metadata  (4,1  Ko)
Collecte  de folium==0.16.0  (√† partir de  -r  requirements.txt  (ligne  8))
  T√©l√©chargement  de folium-0.16.0-py2.py3-none-any.whl.metadata  (3,6  Ko)
Collecte  de idna==3.7  (√† partir de  -r  requirements.txt  (ligne  9))
  T√©l√©chargement de  idna-3.7-py3-none-any.whl.metadata  (9,9  Ko)
Collecte  de Jinja2==3.1.4  (√† partir de  -r  conditions.txt  (ligne  10))
  T√©l√©chargement de  jinja2-3.1.4-py3-none-any.whl.metadata  (2,6  Ko)
Collecte  de MarkupSafe==2.1.5  (√† partir de  -r  conditions.txt  (ligne  11))
  T√©l√©chargement de  MarkupSafe-2.1.5-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata  (3,0  Ko)
Collecte  de numpy==1.26.4  (√† partir de  -r  conditions.txt  (ligne  12))
  T√©l√©chargement de  numpy-1.26.4-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata  (61  Ko)
     ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  61,0/61,0  Ko  3,0  Mo/s  depuis  0:00:00
Collecte  d'opencage==2.4.0  (√† partir de  -r  requirements.txt  (ligne  13))
  T√©l√©chargement  de opencage-2.4.0-py3-none-any.whl.metadata  (5,8  Ko)
Collecte  des num√©ros de t√©l√©phone ==8.13.37  (√† partir de  -r  exigences.txt  (ligne  14))
  T√©l√©chargement  de phonenumbers-8.13.37-py2.py3-none-any.whl.metadata  (11  Ko)
Collecte  de PyMuPDF==1.23.21  (√† partir de  -r  conditions.txt  (ligne  15))
  T√©l√©chargement de  PyMuPDF-1.23.21-cp311-none-manylinux2014_x86_64.whl.metadata  (3,4  Ko)
Collecte  de PyMuPDFb==1.23.9  (√† partir de  -r  requirements.txt  (ligne  16))
  T√©l√©chargement de  PyMuPDFb-1.23.9-py3-none-manylinux2014_x86_64.manylinux_2_17_x86_64.whl.metadata  (1,3  Ko)
Collecte  de PyPDF2==3.0.1  (√† partir de  -r  requirements.txt  (ligne  17))
  T√©l√©chargement de  pypdf2-3.0.1-py3-none-any.whl.metadata  (6,8  Ko)
Collecte  de pypiwin32==223  (√† partir de  -r  Requirements.txt  (ligne  18))
  T√©l√©chargement de  pypiwin32-223-py3-none-any.whl.metadata  (236  octets)
Collecte  de pyttsx3==2,90  (√† partir de  -r  Requirements.txt  (ligne  19))
  T√©l√©chargement de  pyttsx3-2.90-py3-none-any.whl.metadata  (3,6  Ko)
ERREUR :  j'ai ignor√©  les versions  suivantes qui n√©cessitent une version diff√©rente de Python : 1.21.2 Requires-Python >=3.7,<3.11 ; 1.21.3 N√©cessite-Python >=3.7,<3.11 ; 1.21.4 N√©cessite-Python >=3.7,<3.11 ; 1.21.5 N√©cessite-Python >=3.7,<3.11 ; 1.21.6 N√©cessite-Python >=3.7,<3.11                      
ERREUR :  Impossible  de  trouver  une  version  qui  satisfait  √† l'  exigence  pywin32==306  (√† partir  des versions :  aucune)
ERREUR :  aucune distribution  correspondante trouv√©e pour pywin32==306    
[avis]  Une  nouvelle  version  de  pip  est  disponible :  24.0  ->  24.1.1
[avis]  Pour  mettre √† jour,  ex√©cutez :  pip  install  --upgrade  pip
==>  La construction  a √©chou√©  üòû
==> M√©thodes courantes pour d√©panner votre d√©ploiement : https://docs.render.com/troubleshooting-deploys       
----


== IV) Conclusion

* Je vous remercie tout d'abord de m'avoir propos√© ce projet, j'ai pu d√©couvrir les bases de django mais malheureusement j'ai connu de grandes difficult√©s

* J'essaierai de le finir pour m'entrainer, c'est une belle id√©e de projet pour s'entra√Æner et acqu√©rir des comp√©tences.

* Je vous souhaite une bonne continuation pour votre entreprise.

_Cordialement_,

_Lo√Øc Darras_
